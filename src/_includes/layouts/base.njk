<!doctype html>
{# default local is "en" english if not set in front matter file or directory #}
<html lang="{{ locale or metadata.locale }}" dir="{{dir or metadata.dir}}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Primary Meta Tags -->
    <title>{{ title or metadata.title }} | {{ metadata.title }}</title>
    <meta name="description" content="{{ description or metadata.description }}">
    <meta name="generator" content="{{ eleventy.generator }}">

    {%- set canonicalUrl %}{{ page.url | url | absoluteUrl(metadata.url) }}{%- endset %}
    {# image path should pe always should be correct #}
    {%- set featuredImageUrl %}
        {%- if featured_image -%}
        {{ featured_image | url | absoluteUrl(metadata.url) }}
        {%- else -%}
        {{ "/img/open-graph.png" | url | absoluteUrl(metadata.url) }}
        {%- endif -%}
    {%- endset -%}

    {# <!-- capture the JS content as a Nunjucks variable -->
    {% set js %}
      {% include "src/_data/googlefonts.js" %}
    {% endset %}
    <!-- feed it through our jsmin filter to minify -->
    <script>
      {{ js | jsmin | safe }}
    </script> #}

    <link rel="canonical" href="{{canonicalUrl}}" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{canonicalUrl}}">
    <meta property="og:title" content="{{ title or metadata.title }}">
    <meta property="og:description" content="{{ description or metadata.description }}">
    <meta property="og:image" content="{{featuredImageUrl}}">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{canonicalUrl}}">
    <meta property="twitter:title" content="{{ title or metadata.title }}">
    <meta property="twitter:description" content="{{ description or metadata.description }}">
    <meta property="twitter:image" content="{{featuredImageUrl}}">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <style>{{ googlefonts | cssmin | safe }}</style>
    <link rel="stylesheet" href="{{ '/css/main.css' | url }}">
    {# <script src="{{ '/js/main.min.js' | url }}" defer></script> #}

    <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">
    <link rel="alternate" href="{{ metadata.jsonfeed.path | url }}" type="application/json" title="{{ metadata.title }}">

    {# icons and favicons from single svg file, currently having with #}

    {%- favicons 'src/public/favicon.png', appleIconBgColor='#316CFF' -%}
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">


    {# only override lang block from home page because only homepage is multilingual #}
    {%- block lang %}{% endblock %}

    {%- block before_head %}{% endblock %}




  </head>
  <body class="flex flex-col min-h-screen justify-around bg-gray-50">

    {%- block header %}
		{%- include "partials/header.njk" %}
    {%- endblock %}

{#
document.querySelector('main').dataset
now you can use window.dataLayer = window.dataLayer || [] to update them to dataLayer
#}
    <main class="flex-grow"
    data-layout="{{ templateClass }}"
    data-tags="{{ tags }}">

		{%- block content %}

			{{ content | safe }}

		{%- endblock %}


    </main>


    {# {%- include "partials/moretools.njk" %} #}
    {# {%- include "partials/feedback.njk" %} #}

    {# before and after footer can be override only when you extend base.njk layout #}
    <!-- Before footer -->
	  {%- block before_footer %}{%- endblock %}

    {%- include "partials/footer.njk" %}

{# check extend base.njk where you need it to update the following block #}
    <!-- After footer -->
	{%- block after_footer %}{%- endblock %}

    <script >{% include 'src/public/js/main.min.js' %}</script>
    <link rel="stylesheet" href="{{ '/css/prism-base16-monokai.dark.css' | url }}">
    {# prism-diff.css not included in above file #}
    {# <link rel="stylesheet" href="{{ '/css/prism-diff.css' | url }}"> #}

    {# {{page | dump}} #}
  </body>
</html>
